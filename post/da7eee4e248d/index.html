<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="参考 官方文档。pickle 模块提供了将 Python 对象序列化的功能。相对于流行的 JSON，pickle 无法在 Python 以外的环境中使用，但对于对象的适应力更强。适用于数据抽象、加密、存储等场景。 官方警告：pickle 模块在接受被错误地构造或者被恶意地构造的数据时不安全。永远不要 unpickle 来自于不受信任的或者未经验证的来源的数据。">
<meta property="og:type" content="article">
<meta property="og:title" content="使用 pickle 来在 Python 中序列化数据">
<meta property="og:url" content="https://miranquil.com/post/da7eee4e248d/">
<meta property="og:site_name" content="Miranquil Garden">
<meta property="og:description" content="参考 官方文档。pickle 模块提供了将 Python 对象序列化的功能。相对于流行的 JSON，pickle 无法在 Python 以外的环境中使用，但对于对象的适应力更强。适用于数据抽象、加密、存储等场景。 官方警告：pickle 模块在接受被错误地构造或者被恶意地构造的数据时不安全。永远不要 unpickle 来自于不受信任的或者未经验证的来源的数据。">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-05-22T09:05:48.000Z">
<meta property="article:modified_time" content="2024-06-18T11:36:57.861Z">
<meta property="article:author" content="Miranquil">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>使用 pickle 来在 Python 中序列化数据</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="Miranquil Garden" type="application/atom+xml" />
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 7.2.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/post/43f86b0568c8/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/post/8a08ac0a7e40/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://miranquil.com/post/da7eee4e248d/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://miranquil.com/post/da7eee4e248d/&text=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://miranquil.com/post/da7eee4e248d/&title=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://miranquil.com/post/da7eee4e248d/&is_video=false&description=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=使用 pickle 来在 Python 中序列化数据&body=Check out this article: https://miranquil.com/post/da7eee4e248d/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://miranquil.com/post/da7eee4e248d/&title=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://miranquil.com/post/da7eee4e248d/&title=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://miranquil.com/post/da7eee4e248d/&title=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://miranquil.com/post/da7eee4e248d/&title=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://miranquil.com/post/da7eee4e248d/&name=使用 pickle 来在 Python 中序列化数据&description=&lt;p&gt;参考 &lt;a href=&#34;https://docs.python.org/3/library/pickle.html#pickle-protocols&#34;&gt;官方文档&lt;/a&gt;。&lt;br&gt;pickle 模块提供了将 Python 对象序列化的功能。相对于流行的 JSON，pickle 无法在 Python 以外的环境中使用，但对于对象的适应力更强。适用于数据抽象、加密、存储等场景。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;官方警告&lt;/strong&gt;：pickle 模块在接受被错误地构造或者被恶意地构造的数据时不安全。永远不要 unpickle 来自于不受信任的或者未经验证的来源的数据。&lt;/p&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://miranquil.com/post/da7eee4e248d/&t=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#pickle-vs-JSON"><span class="toc-number">1.</span> <span class="toc-text">pickle vs JSON</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%B5%81%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">数据流格式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E6%8E%A5%E5%8F%A3"><span class="toc-number">3.</span> <span class="toc-text">模块接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pickle-dump-obj-file-protocol-None-fix-imports-True"><span class="toc-number">3.1.</span> <span class="toc-text">pickle.dump(obj, file, protocol&#x3D;None, *, fix_imports&#x3D;True)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pickle-dumps-obj-protocol-None-fix-imports-True"><span class="toc-number">3.2.</span> <span class="toc-text">pickle.dumps(obj, protocol&#x3D;None, *, fix_imports&#x3D;True)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pickle-load-file-fix-imports-True-encoding-%E2%80%9DASCII%E2%80%9D-errors-%E2%80%9Dstrict%E2%80%9D"><span class="toc-number">3.3.</span> <span class="toc-text">pickle.load(file, *, fix_imports&#x3D;True, encoding&#x3D;”ASCII”, errors&#x3D;”strict”)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exception-pickle-PickleError"><span class="toc-number">3.4.</span> <span class="toc-text">exception pickle.PickleError</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exception-pickle-PicklingError"><span class="toc-number">3.5.</span> <span class="toc-text">exception pickle.PicklingError</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exception-pickle-UnpicklingError"><span class="toc-number">3.6.</span> <span class="toc-text">exception pickle.UnpicklingError</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        使用 pickle 来在 Python 中序列化数据
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Miranquil</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-05-22T09:05:48.000Z" class="dt-published" itemprop="datePublished">2019-05-22</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/Algorithm-Programming/">Algorithm & Programming</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/Python/" rel="tag">Python</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>参考 <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/pickle.html#pickle-protocols">官方文档</a>。<br>pickle 模块提供了将 Python 对象序列化的功能。相对于流行的 JSON，pickle 无法在 Python 以外的环境中使用，但对于对象的适应力更强。适用于数据抽象、加密、存储等场景。</p>
<p><strong>官方警告</strong>：pickle 模块在接受被错误地构造或者被恶意地构造的数据时不安全。永远不要 unpickle 来自于不受信任的或者未经验证的来源的数据。</p>
<span id="more"></span>

<p>在 Python 中其实一共有两个数据序列化的包，一个是 pickle，另一个则是 <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/marshal.html#module-marshal">marshal</a>。不过后者主要是用来支持 Python 的 <code>.pyc</code> 缓存而非开发使用，这里不多介绍，关于 pickle 和 marshal 的对比也略过，有兴趣的可以参考上面的链接。</p>
<h2 id="pickle-vs-JSON"><a href="#pickle-vs-JSON" class="headerlink" title="pickle vs JSON"></a>pickle vs JSON</h2><ul>
<li>JSON 是文本序列格式，绝大部分情况都是 <code>UTF-8</code> 编码。而 pickle 则是二进制格式。</li>
<li>JSON 对人类阅读友好，pickle 嘛，嗯……</li>
<li>JSON 可在广泛的领域中自由使用，而 pickle 则仅限于 Python 内部。</li>
<li>重头戏：JSON 通常情况下只能表达有限的 Python 内建类型，碰见用户自定义类就束手无策。而 pickle 可以表达巨量的 Python 类型——绝大部分还是自动的，如果你真的搞了个大新闻，还可以接入 <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/pickle.html#pickle-inst">特定对象 API</a>。</li>
</ul>
<h2 id="数据流格式"><a href="#数据流格式" class="headerlink" title="数据流格式"></a>数据流格式</h2><p>由于 pickle 应用于 Python 内部，它不具有 JSON 或 XDR 等的诸多限制，虽然那也意味着非 Python 程序无法利用，不过这个东西还是看需求。</p>
<p>通常来说 pickle 会对数据进行相对的压缩，如果你还有额外需求，对生成的数据进行 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/library/archiving.html">进一步压缩</a> 也是很容易的，毕竟说破大天它也就是个 <code>bytes</code> 流。</p>
<p>此外 <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/pickletools.html#module-pickletools">pickletools</a> 对 pickle 生成的数据流提供了更多的分析工具，这里略过。</p>
<p>由于一些历史原因<del>你懂得</del>，pickle 的序列化过程有五种协议可用。协议版本越高，对 Python 的版本要求就越高。</p>
<ul>
<li>版本 0 是最早的“人类可读”协议，和更早版本的 Python 向后兼容。</li>
<li>版本 1 是同样兼容早期版本 Python 的旧二进制格式。</li>
<li>版本 2 在 Python 2.3 推出。它对新型类的速度更快。你可以参考 <a target="_blank" rel="noopener" href="https://www.python.org/dev/peps/pep-0307">PEP 307</a> 来获得更多内容。</li>
<li>版本 3 在 Python 3.0 被添加。支持 <code>bytes</code> 对象，并且无法被 Python 2.x 版本解码。这是现在的默认协议，建议在要求和其他 Python 3 版本兼容时使用。</li>
<li>版本 4 在 Python 3.4 推出，添加了对大型对象的支持并且可以序列化更多类型，对于数据格式也进行了一些优化。你可以参考 <a target="_blank" rel="noopener" href="https://www.python.org/dev/peps/pep-3154">PEP 3154</a> 来看看更多的版本 4 协议的增强内容。</li>
</ul>
<h2 id="模块接口"><a href="#模块接口" class="headerlink" title="模块接口"></a>模块接口</h2><p>简单的使用 <code>dumps()</code> 函数就可以将对象序列化，而 <code>loads()</code> 则相反。如果你有更多需求，也可以分别创建 <code>Pickler</code> 或者 <code>Unpickler</code> 对象。</p>
<p><code>pickle</code> 模块提供下列常量：</p>
<ul>
<li><code>pickle.HIGHEST_PROTOCOL</code><br>  一个整数，为目前可用的最高协议版本。这个值可以被作为 <em>protocol</em> 参数传递给 <code>dump()</code> 和 <code>dumps()</code>，以及 <code>Pickler</code> 的构造器。</li>
<li><code>pickle.DEFAULT_PROTOCOL</code><br>  一个整数，执行操作时使用的缺省协议版本，可以小于 <code>HIGHEST_PROTOCOL</code>。当前默认值是 3，是一个为 Python 3 设计的新协议。</li>
</ul>
<p>下面是执行操作用到的函数：</p>
<h3 id="pickle-dump-obj-file-protocol-None-fix-imports-True"><a href="#pickle-dump-obj-file-protocol-None-fix-imports-True" class="headerlink" title="pickle.dump(obj, file, protocol&#x3D;None, *, fix_imports&#x3D;True)"></a>pickle.dump(obj, file, protocol&#x3D;None, *, fix_imports&#x3D;True)</h3><p>将序列化的对象写入打开的文件。这个函数与 <code>Pickler(file, protocol).dump(obj)</code> 同理。<br><em>protocol</em> 参数指定使用的协议版本，支持从 0 到 <code>HIGHEST_PROTOCOL</code>。如果没有指定，缺省为 <code>DEFAULT_PROTOCOL</code>。如果是负数就会直接视为 <code>HIGHEST_PROTOCOL</code>。<br><em>file</em> 参数必须拥有能接收单 bytes 序列的 <code>write()</code> 方法。它可以是磁盘上以二进制写打开的文件、一个 <code>io.BytesIO</code> 实例，或者任何符合接口的自定义对象。<br><em>fix_imports</em> 为 <code>True</code> 并且 <em>protocol</em> 小于 3 时，pickle 会尝试映射新的 Python 3 类到 Python 2 里旧的类名来让数据流对于 Python 2 也可用。</p>
<h3 id="pickle-dumps-obj-protocol-None-fix-imports-True"><a href="#pickle-dumps-obj-protocol-None-fix-imports-True" class="headerlink" title="pickle.dumps(obj, protocol&#x3D;None, *, fix_imports&#x3D;True)"></a>pickle.dumps(obj, protocol&#x3D;None, *, fix_imports&#x3D;True)</h3><p>以 <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/stdtypes.html#bytes">bytes</a> 返回序列化的对象，而不是写入文件。<br>参数 <em>protocol</em> 和 <em>fix_imports</em> 与 <code>dump()</code> 中的用法相同。</p>
<h3 id="pickle-load-file-fix-imports-True-encoding-”ASCII”-errors-”strict”"><a href="#pickle-load-file-fix-imports-True-encoding-”ASCII”-errors-”strict”" class="headerlink" title="pickle.load(file, *, fix_imports&#x3D;True, encoding&#x3D;”ASCII”, errors&#x3D;”strict”)"></a>pickle.load(file, *, fix_imports&#x3D;True, encoding&#x3D;”ASCII”, errors&#x3D;”strict”)</h3><p>从文件中读取已经被 pickle 序列化的对象并返回。这个函数与 <code>Unpickler(file).load()</code> 同理。<br>被读取内容所使用的 pickle 协议版本会自动探测，所以不需要加 <em>protocol</em> 参数。超出 pickle 对象的 bytes 会被自动忽略。<br><em>file</em> 参数必须拥有两个方法：接收整型参数的 <code>method()</code> 方法和无需参数的 <code>readline()</code> 方法。这两个方法都应该返回 bytes 类型。因此 <em>file</em> 参数可以是磁盘上以二进制读打开的文件、一个 <code>io.BytesIO</code> 对象，或者任何符合接口的自定义对象。<br>可选参数有 <em>fix_imports</em>、<em>encoding</em> 和 <em>errors</em>，它们在兼容由 Python 2 生成的 pickle 流时很有用。<em>fix_imports</em> 为 <code>True</code> 时 pickle 会映射老 Python 2 类为 Python 3 里的新类名。<em>encoding</em> 和 <em>errors</em> 告诉 pickle 怎么解码 Python 2 生成的 8 位字符串；它们的默认值分别是 <code>ASCII</code> 和 <code>strict</code>。<em>encoding</em> 参数也可以设置为 <code>bytes</code> 来将这些 8 位字符串读取为 bytes 对象。当解码 Python 2 生成的 <em>NumPy</em> 数组和 <em>datetime</em>、<em>date</em> 和 <em>time</em> 序列化实例时，<em>encoding</em> 必须为<code>latin1</code>。</p>
<p>pickle 模块定义了三个异常：</p>
<h3 id="exception-pickle-PickleError"><a href="#exception-pickle-PickleError" class="headerlink" title="exception pickle.PickleError"></a>exception pickle.PickleError</h3><p>其他异常类的基类，继承了 <code>Exception</code>。</p>
<h3 id="exception-pickle-PicklingError"><a href="#exception-pickle-PicklingError" class="headerlink" title="exception pickle.PicklingError"></a>exception pickle.PicklingError</h3><p>当对象无法使用 pickler 序列化时抛出的异常，继承了 <code>PickleError</code>。</p>
<p>参考 <a href="/#%E4%BB%80%E4%B9%88%E5%8F%AF%E4%BB%A5%E8%A2%AB%E5%BA%8F%E5%88%97%E5%8C%96">什么可以被序列化</a>来确定适合的对象。</p>
<h3 id="exception-pickle-UnpicklingError"><a href="#exception-pickle-UnpicklingError" class="headerlink" title="exception pickle.UnpicklingError"></a>exception pickle.UnpicklingError</h3><p>解码出错如数据篡改或不安全操作时抛出的异常。继承了 <code>PickleError</code>。</p>
<p>需要注意的是在解码时也可能抛出其他异常，包括（但不仅限于）<code>AttributeError</code>、<code>EOFError</code>、<code>ImportError</code> 和 <code>IndexError</code>。</p>
<p>上述内容已经足够应对常见的序列化任务，pickle 模块还包含两个类，<code>Pickler</code> 和 <code>Unpickler</code>。具体不再介绍，有兴趣的童鞋可以进一步参考 <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/pickle.html#pickle.Pickler">官方文档</a>。</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#pickle-vs-JSON"><span class="toc-number">1.</span> <span class="toc-text">pickle vs JSON</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%B5%81%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">数据流格式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E6%8E%A5%E5%8F%A3"><span class="toc-number">3.</span> <span class="toc-text">模块接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pickle-dump-obj-file-protocol-None-fix-imports-True"><span class="toc-number">3.1.</span> <span class="toc-text">pickle.dump(obj, file, protocol&#x3D;None, *, fix_imports&#x3D;True)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pickle-dumps-obj-protocol-None-fix-imports-True"><span class="toc-number">3.2.</span> <span class="toc-text">pickle.dumps(obj, protocol&#x3D;None, *, fix_imports&#x3D;True)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pickle-load-file-fix-imports-True-encoding-%E2%80%9DASCII%E2%80%9D-errors-%E2%80%9Dstrict%E2%80%9D"><span class="toc-number">3.3.</span> <span class="toc-text">pickle.load(file, *, fix_imports&#x3D;True, encoding&#x3D;”ASCII”, errors&#x3D;”strict”)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exception-pickle-PickleError"><span class="toc-number">3.4.</span> <span class="toc-text">exception pickle.PickleError</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exception-pickle-PicklingError"><span class="toc-number">3.5.</span> <span class="toc-text">exception pickle.PicklingError</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exception-pickle-UnpicklingError"><span class="toc-number">3.6.</span> <span class="toc-text">exception pickle.UnpicklingError</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://miranquil.com/post/da7eee4e248d/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://miranquil.com/post/da7eee4e248d/&text=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://miranquil.com/post/da7eee4e248d/&title=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://miranquil.com/post/da7eee4e248d/&is_video=false&description=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=使用 pickle 来在 Python 中序列化数据&body=Check out this article: https://miranquil.com/post/da7eee4e248d/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://miranquil.com/post/da7eee4e248d/&title=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://miranquil.com/post/da7eee4e248d/&title=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://miranquil.com/post/da7eee4e248d/&title=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://miranquil.com/post/da7eee4e248d/&title=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://miranquil.com/post/da7eee4e248d/&name=使用 pickle 来在 Python 中序列化数据&description=&lt;p&gt;参考 &lt;a href=&#34;https://docs.python.org/3/library/pickle.html#pickle-protocols&#34;&gt;官方文档&lt;/a&gt;。&lt;br&gt;pickle 模块提供了将 Python 对象序列化的功能。相对于流行的 JSON，pickle 无法在 Python 以外的环境中使用，但对于对象的适应力更强。适用于数据抽象、加密、存储等场景。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;官方警告&lt;/strong&gt;：pickle 模块在接受被错误地构造或者被恶意地构造的数据时不安全。永远不要 unpickle 来自于不受信任的或者未经验证的来源的数据。&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://miranquil.com/post/da7eee4e248d/&t=使用 pickle 来在 Python 中序列化数据"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2019-2024
    Miranquil
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
